<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
    <style>
        canvas {
            background-image: url("/images/test_floor.png");
            background-position: center;
            background-size: 100% 100%;
        }
    </style>
    <script type="text/javascript" src="/javascript/jquery-1.11.1.min.js" charset="UTF-8"></script>
    <script type="text/javascript">
        $(document).ready(function () {

           // debugger;
            var can = document.getElementById('canvas');
            var ctx = can.getContext('2d');

            //线宽
            ctx.lineWidth = 2;
            //颜色
            ctx.strokeStyle = '#ff0000';

            ctx.lineJoin = ctx.lineCap = 'round';

            //drawLine(10, 20, 100, 200);
            //drawLine(100, 200, 200, 256);
            //drawLine(200, 256, 300, 300);

            //ctx.strokeStyle = "rgb(250,0,0)";

            //ctx.fillStyle = "rgb(250,0,0)";

            var img0 = new Image();
            img0.src = "/images/test_camera0.png";
            console.log(img0.src);
            
            ctx.drawImage(img0,300,135,20,20);
            ctx.drawImage(img0,520,120,20,20);
            ctx.drawImage(img0,830,100,20,20);
            ctx.drawImage(img0,830,220,20,20);
            ctx.drawImage(img0,830,330,20,20);
            ctx.drawImage(img0,520,350,20,20);
              
            
               
            ctx.beginPath();

            ctx.moveTo(530,130);

            ctx.lineTo(840,110);
 
            ctx.lineTo(840,230);
            
            ctx.lineTo(840,340);
             
            ctx.lineTo(530,360);

            ctx.stroke();

            ctx.fillStyle = "black";
            ctx.font = "italic 10px sans-serif";
            var txt="2018-06-20 11:29:57";
            ctx.fillText(txt, 480, 110);
            ctx.fillText(txt, 480, 95);
            ctx.fillText(txt, 480, 80);
            
            ctx.fillText(txt, 790, 90);
            ctx.fillText(txt, 790, 75);
            ctx.fillText(txt, 790, 60);
            
            ctx.fillText(txt, 790, 210);
            ctx.fillText(txt, 790, 195);
            ctx.fillText(txt, 790, 180);
            
            ctx.fillText(txt, 790, 320);
            ctx.fillText(txt, 790, 305);
            ctx.fillText(txt, 790, 290);
            
            ctx.fillText(txt, 480, 340);
            ctx.fillText(txt, 480, 325);
            ctx.fillText(txt, 480, 310);
            
            
            var img = new Image();
            img.src = "/images/test_camera.png";

            console.log(img.src);
            ctx.drawImage(img,520,120,20,20);
            ctx.drawImage(img,830,100,20,20);
            ctx.drawImage(img,830,220,20,20); 
            ctx.drawImage(img,830,330,20,20);
            ctx.drawImage(img,520,350,20,20);
            
            
            //ctx.fillStyle = "#EEEEFF";
            
            //ctx.fillRect(0, 0, 400, 300);
  
            //反锯齿的画线方法
            function drawLine(x, y, stopX, stopY) {
            
                var isDrawing, points = [];
                //push the point to points
               
                var stepx = 0;
                if (x > stopX)
                    stepx = -1;
                else if (x < stopX)
                    stepx = 1;

                var stepy = 0;
                if (y > stopY)
                    setpy = -1;
                else if (y < stopY)
                    stepy = 1;
                var nx = x;
                var ny = y;
                while (true) {
                    if (nx != stopX)
                        nx += stepx;
                    if(ny!=stopY)
                        ny += stepy;
                    points.push({ x: nx, y: ny });
                    if (nx == stopX && ny == stopY)
                        break;
                }


                    
                ctx.beginPath();
                ctx.moveTo(points[0].x, points[0].y);
                for (var i = 1; i < points.length; i++) {
                    ctx.lineTo(points[i].x, points[i].y);
                }
                ctx.stroke();            
            }
        });

    </script>
</head>
<body>
    <canvas id="canvas" width="1200" height="680">
        Your browser doesn't support canvas
    </canvas>
    <img  src="/images/test_camera.png" />
    <img src="/images/test_camera0.png" />
</body>
</html>