<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <style>
        canvas {
            background-image: url("/images/test_floor.png");
            background-position: center;
            background-size: 100% 100%;
        }
    </style>
    <script type="text/javascript" src="/javascript/jquery-1.11.1.min.js" charset="UTF-8"></script>
    <script type="text/javascript">
        $(document).ready(function () {

           // debugger;
            var can = document.getElementById('canvas');
            var ctx = can.getContext('2d');

            //线宽
            ctx.lineWidth = 2;
            //颜色
            ctx.strokeStyle = '#ff0000';

            ctx.lineJoin = ctx.lineCap = 'round';

            //drawLine(10, 20, 100, 200);
            //drawLine(100, 200, 200, 256);
            //drawLine(200, 256, 300, 300);

            //ctx.strokeStyle = "rgb(250,0,0)";

            //ctx.fillStyle = "rgb(250,0,0)";

            var img0 = new Image();
            img0.src = "/images/test_camera0.png";

            ctx.drawImage(img0,300,135,20,20);
            ctx.drawImage(img0,520,120,20,20);
            ctx.drawImage(img0,830,100,20,20);
            ctx.drawImage(img0,300,260,20,20);
            ctx.drawImage(img0,520,245,20,20);
            ctx.drawImage(img0,830,220,20,20);
            ctx.drawImage(img0,300,367,20,20);
            ctx.drawImage(img0,520,350,20,20);
            ctx.drawImage(img0,830,330,20,20);



            ctx.beginPath();

            ctx.moveTo(840,340);
            ctx.lineTo(840,230);
            ctx.lineTo(530,255);
            ctx.lineTo(530,130);
            ctx.lineTo(310,145);

            ctx.stroke();




            var img = new Image();
            img.src = "/images/test_camera.png";
            ctx.drawImage(img,300,135,20,20);
            ctx.drawImage(img,520,120,20,20);
            //ctx.drawImage(img,830,100,20,20);
            //ctx.drawImage(img,300,260,20,20);
            ctx.drawImage(img,520,245,20,20);
            ctx.drawImage(img,830,220,20,20);
            //ctx.drawImage(img,300,367,20,20);
            //ctx.drawImage(img,520,350,20,20);
            ctx.drawImage(img,830,330,20,20);


            //ctx.fillStyle = "#EEEEFF";

            //ctx.fillRect(0, 0, 400, 300);

            //反锯齿的画线方法
            function drawLine(x, y, stopX, stopY) {

                var isDrawing, points = [];
                //push the point to points

                var stepx = 0;
                if (x > stopX)
                    stepx = -1;
                else if (x < stopX)
                    stepx = 1;

                var stepy = 0;
                if (y > stopY)
                    setpy = -1;
                else if (y < stopY)
                    stepy = 1;
                var nx = x;
                var ny = y;
                while (true) {
                    if (nx != stopX)
                        nx += stepx;
                    if(ny!=stopY)
                        ny += stepy;
                    points.push({ x: nx, y: ny });
                    if (nx == stopX && ny == stopY)
                        break;
                }



                ctx.beginPath();
                ctx.moveTo(points[0].x, points[0].y);
                for (var i = 1; i < points.length; i++) {
                    ctx.lineTo(points[i].x, points[i].y);
                }
                ctx.stroke();
            }
        });

    </script>
</head>
<body>
    <canvas id="canvas" width="1200" height="680">
        Your browser doesn't support canvas
    </canvas>
    <img style="display:none;" src="/images/test_camera.png" />
    <img style="display:none;" src="/images/test_camera0.png" />
</body>
</html>